<!DOCTYPE html>
<html>
<head>
  <title>Pat Conroy Clicker</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      margin: 0;
      font-family: sans-serif;
      background-color: #001f3f;
      color: white;
      display: flex;
      flex-direction: column;
      height: 100vh;
      overflow-y: auto; /* ✅ make whole thing scrollable */
    }

    .game-area {
      flex: none;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      position: relative;
      padding: 20px;
    }

    .sidebar {
      flex: none;
      background-color: #003366;
      padding: 20px;
      border-radius: 12px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    #pat-img {
      width: 250px;
      max-width: 80vw;
      height: auto;
      border-radius: 50%;
      cursor: pointer;
      margin: 20px 0;
      transition: transform 0.1s ease;
      pointer-events: auto;
      z-index: 10;
    }

    .bounce {
      animation: bounce 0.3s ease;
    }

    @keyframes bounce {
      0%   { transform: scale(1); }
      30%  { transform: scale(1.05); }
      50%  { transform: scale(0.98); }
      70%  { transform: scale(1.02); }
      100% { transform: scale(1); }
    }

    .floating-text {
      position: absolute;
      font-size: 18px;
      color: #ffcc00;
      pointer-events: none;
      animation: floatUp 1s ease-out forwards;
      border-radius: 6px;
      padding: 2px 6px;
      background-color: rgba(255, 204, 0, 0.2);
      z-index: 20;
    }

    @keyframes floatUp {
      0% { opacity: 1; transform: translateY(0); }
      100% { opacity: 0; transform: translateY(-40px); }
    }

    button {
      width: 100%;
      padding: 14px;
      margin-bottom: 12px;
      background-color: #0055aa;
      color: white;
      border: none;
      cursor: pointer;
      border-radius: 8px;
      font-size: 16px;
    }

    button:hover {
      background-color: #0077cc;
    }

    button.disabled {
      background-color: #555;
      color: #aaa;
      cursor: not-allowed;
    }

    #popup {
      position: fixed;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      background-color: #ff4444;
      color: white;
      padding: 15px 25px;
      border-radius: 12px;
      font-size: 18px;
      box-shadow: 0 0 10px rgba(0,0,0,0.3);
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.5s ease;
      z-index: 1000;
    }

    #popup.show {
      opacity: 1;
      pointer-events: auto;
    }

    #ascension-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: radial-gradient(circle, rgba(255,255,255,0.9) 0%, rgba(0,0,0,0.8) 100%);
      backdrop-filter: blur(8px);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      animation: fadeOut 3s ease forwards;
    }

    #ascension-overlay h1 {
      font-size: 48px;
      color: #ffcc00;
      text-shadow: 0 0 20px white;
    }

    @keyframes fadeOut {
      0% { opacity: 1; }
      100% { opacity: 0; display: none; }
    }
  </style>
</head>
<body>
  <div class="game-area">
    <h1 style="color:#ffcc00;">Pat Conroy Clicker</h1>
    <div id="vote-count" style="font-size:24px;">Votes: 0</div>
    <div id="vote-rate" style="font-size:18px;">Votes per second: 0</div>
    <!-- ✅ Epic image above upgrades -->
    <img id="pat-img" src="https://assets.nationbuilder.com/nswlabor/pages/12564/meta_images/original/Pat_headshot.PNG?1744005955" alt="Pat Conroy MP">
  </div>

  <div class="sidebar">
    <!-- Upgrades list -->
    <button id="upgrade-click">Upgrade Click Power</button>
    <button id="hire-volunteer">Hire Volunteer</button>
    <button id="hire-manager">Hire Campaign Manager</button>
    <button id="social-blitz">Launch Social Media Blitz</button>
    <button id="press-secretary">Hire Press Secretary</button>
    <button id="policy-wonk">Recruit Policy Wonk</button>
    <button id="town-hall">Host Town Hall</button>
    <button id="debate-win">Win Televised Debate</button>
    <button id="endorsement">Secure Major Endorsement</button>

    <!-- Global Upgrades -->
    <button id="australia">Mobilize Australia</button>
    <button id="usa">Mobilize USA</button>
    <button id="china">Mobilize China</button>
    <button id="india">Mobilize India</button>
    <button id="uk">Mobilize UK</button>
    <button id="brazil">Mobilize Brazil</button>

    <!-- Planetary Upgrades -->
    <button id="mercury">Colonize Mercury</button>
    <button id="venus">Colonize Venus</button>
    <button id="mars">Colonize Mars</button>
    <button id="jupiter">Colonize Jupiter</button>
    <button id="saturn">Colonize Saturn</button>
    <button id="uranus">Colonize Uranus</button>
    <button id="neptune">Colonize Neptune</button>

    <!-- Interstellar Upgrades -->
    <button id="alpha-centauri">Expand to Alpha Centauri</button>
    <button id="trappist-1">Expand to TRAPPIST-1</button>

    <!-- Ascension -->
    <button id="ascend">Ascend to Higher Plane</button>
  </div>

  <div id="popup">Not enough votes!</div>
  <div id="ascension-overlay">
    <h1>You Have Ascended</h1>
  </div>

<script>
  let votes = 0;
  let clickPower = 1;
  let voteRate = 0;

  const voteDisplay = document.getElementById('vote-count');
  const voteRateDisplay = document.getElementById('vote-rate');
  const patImg = document.getElementById('pat-img');
  const popup = document.getElementById('popup');

  const upgrades = {
    'upgrade-click': { cost: 10, effect: () => clickPower += 1, multiplier: 1.5, label: 'Upgrade Click Power' },
    'hire-volunteer': { cost: 50, effect: () => voteRate += 1, multiplier: 1.5, label: 'Hire Volunteer' },
    'hire-manager': { cost: 200, effect: () => voteRate += 5, multiplier: 1.6, label: 'Hire Campaign Manager' },
    'social-blitz': { cost: 500, effect: () => { clickPower += 2; voteRate += 10; }, multiplier: 1.7, label: 'Launch Social Media Blitz' },
    'press-secretary': { cost: 1000, effect: () => voteRate += 15, multiplier: 1.7, label: 'Hire Press Secretary' },
    'policy-wonk': { cost: 2500, effect: () => clickPower += 5, multiplier: 1.8, label: 'Recruit Policy Wonk' },
    'town-hall': { cost: 5000, effect: () => votes += 1000, multiplier: 2.0, label: 'Host Town Hall' },
    'debate-win': { cost: 10000, effect: () => { clickPower *= 2; voteRate *= 2; }, multiplier: 2.2, label: 'Win Televised Debate' },
    'endorsement': { cost: 20000, effect: () => { votes += 5000; clickPower += 10; voteRate += 20; }, multiplier: 2.5, label: 'Secure Major Endorsement' },

    // Global Upgrades
    'australia': { cost: 50000, effect: () => voteRate += 50, multiplier: 2.5, label: 'Mobilize Australia' },
    'usa': { cost: 100000, effect: () => voteRate += 100, multiplier: 2.6, label: 'Mobilize USA' },
    'china': { cost: 150000, effect: () => voteRate += 150, multiplier: 2.6, label: 'Mobilize China' },
    'india': { cost: 200000, effect: () => voteRate += 200, multiplier: 2.6, label: 'Mobilize India' },
    'uk': { cost: 250000, effect: () => voteRate += 250, multiplier: 2.6, label: 'Mobilize UK' },
    'brazil': { cost: 300000, effect: () => voteRate += 300, multiplier: 2.6, label: 'Mobilize Brazil' },

    // Planetary Upgrades
    'mercury': { cost: 500000, effect: () => voteRate += 500, multiplier: 2.7, label: 'Colonize Mercury' },
    'venus': { cost: 600000, effect: () => voteRate += 600, multiplier: 2.7, label: 'Colonize Venus' },
    'mars': { cost: 800000, effect: () => voteRate += 800, multiplier: 2.7, label: 'Colonize Mars' },
    'jupiter': { cost: 900000, effect: () => voteRate += 900, multiplier: 2.7, label: 'Colonize Jupiter' },
    'saturn': { cost: 1000000, effect: () => voteRate += 1000, multiplier: 2.7, label: 'Colonize Saturn' },
    'uranus': { cost: 1100000, effect: () => voteRate += 1100, multiplier: 2.7, label: 'Colonize Uranus' },
    'neptune': { cost: 1200000, effect: () => voteRate += 1200, multiplier: 2.7, label: 'Colonize Neptune' },

    // Interstellar Upgrades
    'alpha-centauri': { cost: 1500000, effect: () => voteRate += 1500, multiplier: 2.8, label: 'Expand to Alpha Centauri' },
    'trappist-1': { cost: 2000000, effect: () => voteRate += 2000, multiplier: 2.8, label: 'Expand to TRAPPIST-1' },

    // Ascension
    'ascend': {
      cost: 5000000000000000000000000000000000000,
      effect: () => {
        clickPower *= 10;
        voteRate *= 10;
        votes += 100000000000000000000000000000000000000;
        showPopup("You have ascended beyond politics!");
        const overlay = document.getElementById('ascension-overlay');
        overlay.style.display = 'flex';
        setTimeout(() => {
          overlay.style.display = 'none';
        }, 3000);
      },
      multiplier: 1,
      label: 'Ascend to Higher Plane'
    }
  };

  function updateDisplay() {
    voteDisplay.textContent = 'Votes: ' + Math.floor(votes);
    voteRateDisplay.textContent = 'Votes per second: ' + voteRate;
    updateButtonStates();
  }

  function updateButtonLabel(id) {
    const button = document.getElementById(id);
    if (button) {
      button.textContent = `${upgrades[id].label} (Cost: ${Math.floor(upgrades[id].cost)} Votes)`;
    }
  }

  function updateButtonStates() {
    for (const id in upgrades) {
      const button = document.getElementById(id);
      const cost = Math.floor(upgrades[id].cost);
      if (votes >= cost) {
        button.classList.remove('disabled');
        button.disabled = false;
        button.title = "";
      } else {
        button.classList.add('disabled');
        button.disabled = true;
        button.title = "Not enough votes";
      }
    }
  }

  function showFloatingText(amount, x, y) {
    const float = document.createElement('div');
    float.className = 'floating-text';
    float.textContent = '+' + amount;

    const gameArea = document.querySelector('.game-area');
    const rect = gameArea.getBoundingClientRect();

    float.style.left = (x - rect.left) + 'px';
    float.style.top = (y - rect.top) + 'px';

    gameArea.appendChild(float);
    setTimeout(() => float.remove(), 1000);
  }

  function showPopup(message) {
    popup.textContent = message;
    popup.classList.add('show');
    setTimeout(() => popup.classList.remove('show'), 2000);
  }

  function purchase(id) {
    const upgrade = upgrades[id];
    const cost = Math.floor(upgrade.cost);
    if (votes >= cost) {
      votes -= cost;
      upgrade.effect();
      upgrade.cost *= upgrade.multiplier;
      updateButtonLabel(id);
      updateDisplay();
    } else {
      showPopup("Not enough votes!");
    }
  }

  // Handle both click and touch
  function handleTap(x, y) {
    votes += clickPower;
    updateDisplay();
    showFloatingText(clickPower, x, y);
    patImg.classList.add('bounce');
    setTimeout(() => patImg.classList.remove('bounce'), 300);
  }

  patImg.addEventListener('click', (e) => {
    handleTap(e.clientX, e.clientY);
  });

  patImg.addEventListener('touchstart', (e) => {
    const touch = e.touches[0];
    handleTap(touch.clientX, touch.clientY);
  });

  // Vote accumulation loop
  setInterval(() => {
    votes += voteRate;
    updateDisplay();
  }, 1000);

  window.addEventListener('DOMContentLoaded', () => {
    for (const id in upgrades) {
      const button = document.getElementById(id);
      if (button) {
        button.addEventListener('click', () => purchase(id));
        button.addEventListener('touchstart', () => purchase(id));
        updateButtonLabel(id);
      }
    }
    updateDisplay();
  });
</script>
</body>
</html>
